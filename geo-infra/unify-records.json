[{"appcode":"function OnUpdate(doc, meta) {\r\n    try {\r\n        //log(\"Doc created/updated\", meta.id);\r\n       var newDoc = {readingId: \"\", loc:[],insertionTime: \"\", originalTime: \"\", requestTime: \"\",activityId: null , companyId: null ,assetId: \"\", humidity: null, currentTripCost: null , driverEmergencyButton: \"\" ,driverId:null,isOccupied: \"\", numberOfPassengers: null, passengerEmergencyButton: \"\", sensorStatus:null , temprature: null,velocity:null , weight:null , sfdaSensorStatus: \"\" , latLng: \"\"} ;\r\n        var locArray = [];\r\n        locArray.push(doc.long);\r\n        locArray.push(doc.lat);\r\n        newDoc.readingId = doc.readingId;\r\n        newDoc.loc = locArray;\r\n        newDoc.insertionTime = doc.insertionTime;\r\n        newDoc.originalTime = doc.originalTime;\r\n        newDoc.requestTime = doc.requestTime;\r\n        newDoc.activityId = doc.activityId;\r\n        newDoc.assetId = doc.assetId;\r\n        newDoc.companyId = doc.companyId;\r\n        newDoc.currentTripCost = doc.currentTripCost;\r\n        newDoc.companyId = doc.companyId;\r\n        newDoc.assetId = doc.assetId;\r\n        newDoc.currentTripCost = doc.currentTripCost;\r\n        newDoc.driverId = doc.driverId;\r\n        newDoc.humidity = doc.humidity;\r\n        newDoc.velocity = doc.velocity;\r\n        newDoc.weight = doc.weight;\r\n        newDoc.temprature = doc.temprature;\r\n        newDoc.sensorStatus = doc.sensorStatus;\r\n        newDoc.isOccupied = doc.isOccupied;\r\n        newDoc.driverEmergencyButton = doc.driverEmergencyButton;\r\n        newDoc.numberOfPassengers = doc.numberOfPassengers;\r\n        newDoc.passengerEmergencyButton = doc.passengerEmergencyButton;\r\n        newDoc.sensorStatus = doc.sensorStatus;\r\n        newDoc.latLng = doc.latLng\r\n        tgt[meta.id]=newDoc;\r\n    } catch (e) {\r\n        log(\"ERROR exception processing \" + meta.id, e);\r\n        }\r\n}\r\n","depcfg":{"buckets":[{"alias":"src","bucket_name":"elm","scope_name":"IoT","collection_name":"ReadingHistory","access":"r"},{"alias":"tgt","bucket_name":"elm","scope_name":"IoT","collection_name":"ReadingHistory","access":"rw"}],"source_bucket":"elm","source_scope":"IoT","source_collection":"ReadingHistory","metadata_bucket":"elm","metadata_scope":"IoT","metadata_collection":"EventingStorage"},"version":"evt-7.0.2-6703-ee","enforce_schema":false,"handleruuid":3848275804,"function_instance_id":"GP1Jn2","appname":"unifyRecords","settings":{"cluster_stats":null,"dcp_stream_boundary":"everything","deployment_status":false,"description":"","execution_timeout":60,"language_compatibility":"6.6.2","log_level":"INFO","n1ql_consistency":"none","num_timer_partitions":128,"processing_status":false,"timer_context_size":1024,"user_prefix":"eventing","worker_count":1}}]